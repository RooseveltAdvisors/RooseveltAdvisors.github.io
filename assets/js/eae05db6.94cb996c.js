"use strict";(self.webpackChunkroosevelt_advisors_website=self.webpackChunkroosevelt_advisors_website||[]).push([[7953],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(96540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},34116:e=>{e.exports=JSON.parse('{"permalink":"/blog/production-rag-system-phi4-lightrag","source":"@site/blog/2025-10-08-production-rag-system-phi4-lightrag/index.mdx","title":"Building an Enterprise RAG System with Local SLMs: My Journey with Phi-4 and LightRAG","description":"After spending months helping enterprises build AI systems, I noticed a pattern: everyone wanted powerful RAG capabilities, but few were comfortable shipping their proprietary data to external APIs. The cost? Predictable. The compliance story? Simple. But the control and security? Gone.","date":"2025-10-08T00:00:00.000Z","tags":[{"inline":false,"label":"AI","permalink":"/blog/tags/tags/ai","description":"Articles about artificial intelligence and machine learning"},{"inline":false,"label":"LLM","permalink":"/blog/tags/tags/llm","description":"Large Language Models and their applications"},{"inline":false,"label":"RAG","permalink":"/blog/tags/tags/rag","description":"Retrieval Augmented Generation (RAG) techniques and applications"},{"inline":false,"label":"Healthcare","permalink":"/blog/tags/tags/healthcare","description":"Healthcare technology and applications"},{"inline":false,"label":"Cloud","permalink":"/blog/tags/tags/cloud","description":"Cloud computing platforms and services"},{"inline":false,"label":"Architecture","permalink":"/blog/tags/tags/architecture","description":"System architecture and design patterns"},{"inline":false,"label":"Data","permalink":"/blog/tags/tags/data","description":"Data management and analytics content"}],"readingTime":22.48,"hasTruncateMarker":true,"authors":[{"name":"Jon Roosevelt","title":"Consultant","url":"https://jonroosevelt.com","page":{"permalink":"/blog/authors/all-jon-roosevelt-articles"},"socials":{"linkedin":"https://www.linkedin.com/in/jonroosevelt/","github":"https://github.com/RooseveltAdvisors"},"imageURL":"https://github.com/RooseveltAdvisors.png","key":"jon"}],"frontMatter":{"slug":"production-rag-system-phi4-lightrag","title":"Building an Enterprise RAG System with Local SLMs: My Journey with Phi-4 and LightRAG","authors":["jon"],"tags":["ai","llm","rag","healthcare","cloud","architecture","data"],"image":"/img/blog/2025-10-08-production-rag-system-phi4-lightrag/hero-banner.jpg"},"unlisted":false,"prevItem":{"title":"Building Tools to Fix Real Problems: A Patient Insurance Education App","permalink":"/blog/patient-insurance-education-app"},"nextItem":{"title":"Building an AI Analysis Agent in Hours - A No-Code Approach with Lovable and N8N","permalink":"/blog/building-aoa-agent-lovable-n8n"}}')},83061:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var s=i(34116),r=i(74848),t=i(28453);const o={slug:"production-rag-system-phi4-lightrag",title:"Building an Enterprise RAG System with Local SLMs: My Journey with Phi-4 and LightRAG",authors:["jon"],tags:["ai","llm","rag","healthcare","cloud","architecture","data"],image:"/img/blog/2025-10-08-production-rag-system-phi4-lightrag/hero-banner.jpg"},l=void 0,a={authorsImageUrls:[void 0]},c=[{value:"Why Local SLMs + Graph RAG Matter Now",id:"why-local-slms--graph-rag-matter-now",level:2},{value:"The Real Cost Story",id:"the-real-cost-story",level:3},{value:"Data Sovereignty Changes Everything",id:"data-sovereignty-changes-everything",level:3},{value:"Performance at Your Pace",id:"performance-at-your-pace",level:3},{value:"Architecture Deep Dive",id:"architecture-deep-dive",level:2},{value:"Why Four Storage Systems?",id:"why-four-storage-systems",level:3},{value:"LightRAG: The Secret Sauce",id:"lightrag-the-secret-sauce",level:3},{value:"Two Deployment Paths",id:"two-deployment-paths",level:2},{value:"Path 1: Local Linux Machine (Budget-Friendly)",id:"path-1-local-linux-machine-budget-friendly",level:3},{value:"Path 2: AWS Cloud-Native Architecture",id:"path-2-aws-cloud-native-architecture",level:3},{value:"What I Learned (The Hard Way)",id:"what-i-learned-the-hard-way",level:2},{value:"Lesson 1: Git History and Upstream Syncing",id:"lesson-1-git-history-and-upstream-syncing",level:3},{value:"Lesson 2: Docker Service Dependencies Matter",id:"lesson-2-docker-service-dependencies-matter",level:3},{value:"Lesson 3: Phi-4 Context Window Configuration",id:"lesson-3-phi-4-context-window-configuration",level:3},{value:"Lesson 4: Document Processing Needs Robust Retry Logic",id:"lesson-4-document-processing-needs-robust-retry-logic",level:3},{value:"Lesson 5: Memory Tuning Is Non-Negotiable",id:"lesson-5-memory-tuning-is-non-negotiable",level:3},{value:"Getting Started: 30-Minute Quick Start",id:"getting-started-30-minute-quick-start",level:2},{value:"Step 1: Prerequisites Check",id:"step-1-prerequisites-check",level:3},{value:"Step 2: Clone and Configure",id:"step-2-clone-and-configure",level:3},{value:"Step 3: Set Up Phi-4 with Ollama",id:"step-3-set-up-phi-4-with-ollama",level:3},{value:"Step 4: Configure Environment Variables",id:"step-4-configure-environment-variables",level:3},{value:"Step 5: Launch the Stack",id:"step-5-launch-the-stack",level:3},{value:"Step 6: Verify Deployment",id:"step-6-verify-deployment",level:3},{value:"Real-World Use Case: Indexing Technical Documentation",id:"real-world-use-case-indexing-technical-documentation",level:2},{value:"Step 1: Prepare Your Documents",id:"step-1-prepare-your-documents",level:3},{value:"Step 2: Bulk Insert via API",id:"step-2-bulk-insert-via-api",level:3},{value:"Step 3: Monitor Processing",id:"step-3-monitor-processing",level:3},{value:"Step 4: Query Your Knowledge Base",id:"step-4-query-your-knowledge-base",level:3},{value:"Results in My Testing",id:"results-in-my-testing",level:3},{value:"Production Considerations",id:"production-considerations",level:2},{value:"Security Hardening",id:"security-hardening",level:3},{value:"Monitoring and Observability",id:"monitoring-and-observability",level:3},{value:"Backup and Disaster Recovery",id:"backup-and-disaster-recovery",level:3},{value:"Scaling Strategies",id:"scaling-strategies",level:3},{value:"ROI and Business Case",id:"roi-and-business-case",level:2},{value:"12-Month Cost Comparison",id:"12-month-cost-comparison",level:3},{value:"Beyond Cost: Strategic Value",id:"beyond-cost-strategic-value",level:3},{value:"When Should You Choose This Approach?",id:"when-should-you-choose-this-approach",level:2},{value:"\u2705 Choose Local + LightRAG if you:",id:"-choose-local--lightrag-if-you",level:3},{value:"\u274c Stick with APIs if you:",id:"-stick-with-apis-if-you",level:3},{value:"Future Enhancements I&#39;m Exploring",id:"future-enhancements-im-exploring",level:2},{value:"Multi-Modal RAG",id:"multi-modal-rag",level:3},{value:"Advanced Query Capabilities",id:"advanced-query-capabilities",level:3},{value:"Continuous Learning Pipeline",id:"continuous-learning-pipeline",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Get Started Today",id:"get-started-today",level:2}];function d(e){const n={a:"a",code:"code",del:"del",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"After spending months helping enterprises build AI systems, I noticed a pattern: everyone wanted powerful RAG capabilities, but few were comfortable shipping their proprietary data to external APIs. The cost? Predictable. The compliance story? Simple. But the control and security? Gone."}),"\n",(0,r.jsx)(n.p,{children:"So I asked myself: could we build something that matches GraphRAG and Nano-GraphRAG performance using entirely local, self-hosted components?"}),"\n",(0,r.jsx)(n.p,{children:"The answer surprised me. Not only is it possible\u2014it's practical, cost-effective, and production-ready. Here's what I learned building a complete Graph RAG system with Phi-4 and LightRAG."}),"\n","\n",(0,r.jsx)(n.h2,{id:"why-local-slms--graph-rag-matter-now",children:"Why Local SLMs + Graph RAG Matter Now"}),"\n",(0,r.jsx)(n.p,{children:"Let me cut straight to what matters: cost, control, and compliance."}),"\n",(0,r.jsx)(n.h3,{id:"the-real-cost-story",children:"The Real Cost Story"}),"\n",(0,r.jsx)(n.p,{children:"I ran the numbers for a typical enterprise knowledge base\u2014about 50,000 documents, 1,000 queries per day. Here's what I found:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"OpenAI API approach:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"GPT-4 for entity extraction: ~$1,500/month"}),"\n",(0,r.jsx)(n.li,{children:"GPT-4 for query responses: ~$800/month"}),"\n",(0,r.jsx)(n.li,{children:"Embedding API: ~$200/month"}),"\n",(0,r.jsx)(n.li,{children:"Vector database (Pinecone): ~$300/month"}),"\n",(0,r.jsx)(n.li,{children:"Graph database (Neo4j Aura): ~$500/month"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Total: $3,300/month or $39,600/year"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Self-hosted with Phi-4:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"All infrastructure on AWS: ~$2,220/month or $26,640/year"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Annual savings: $12,960 (33% reduction)"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Or go fully on-premise with a GPU server (~$6,000 upfront) and you're looking at $2,300/year in operating costs. Break-even in 2.3 months."}),"\n",(0,r.jsx)(n.p,{children:"But cost isn't the whole story."}),"\n",(0,r.jsx)(n.h3,{id:"data-sovereignty-changes-everything",children:"Data Sovereignty Changes Everything"}),"\n",(0,r.jsx)(n.p,{children:"If you're in healthcare, finance, or any regulated industry, you know the drill. Every vendor that touches your data needs:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Associate Agreements (HIPAA)"}),"\n",(0,r.jsx)(n.li,{children:"Data Processing Agreements (GDPR)"}),"\n",(0,r.jsx)(n.li,{children:"SOC 2 audits"}),"\n",(0,r.jsx)(n.li,{children:"Regular security reviews"}),"\n",(0,r.jsx)(n.li,{children:"Incident response coordination"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'With a self-hosted system? Your data never leaves your infrastructure. The compliance story becomes: "We don\'t send data anywhere." Done.'}),"\n",(0,r.jsx)(n.h3,{id:"performance-at-your-pace",children:"Performance at Your Pace"}),"\n",(0,r.jsx)(n.p,{children:"No rate limits. No surprise throttling during usage spikes. No waiting on API quota increases."}),"\n",(0,r.jsx)(n.p,{children:"You control the throughput. You optimize for your workload. You scale when ready."}),"\n",(0,r.jsx)(n.h2,{id:"architecture-deep-dive",children:"Architecture Deep Dive"}),"\n",(0,r.jsx)(n.p,{children:"Let me show you what we're building:"}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TB\n    subgraph Application["Application Layer"]\n        User[User/Application]\n        WebUI[LightRAG Web UI/API<br/>FastAPI + React]\n    end\n\n    subgraph Core["LightRAG Core Engine"]\n        Pipeline[Document Processing Pipeline]\n        QueryEngine[Query Engine]\n    end\n\n    subgraph Storage["Storage Layer"]\n        PG[(PostgreSQL<br/>pgvector<br/>Vector DB)]\n        Neo[(Neo4j<br/>Knowledge Graph)]\n        Redis[(Redis<br/>Cache)]\n        Phi4[Phi-4 LLM<br/>14B params<br/>128K context]\n    end\n\n    User --\x3e WebUI\n    WebUI --\x3e Pipeline\n    WebUI --\x3e QueryEngine\n    Pipeline --\x3e PG\n    Pipeline --\x3e Neo\n    Pipeline --\x3e Phi4\n    QueryEngine --\x3e PG\n    QueryEngine --\x3e Neo\n    QueryEngine --\x3e Redis\n    QueryEngine --\x3e Phi4\n\n    style User fill:#e1f5ff\n    style WebUI fill:#b3e5fc\n    style Pipeline fill:#81d4fa\n    style QueryEngine fill:#81d4fa\n    style PG fill:#4db6ac\n    style Neo fill:#4db6ac\n    style Redis fill:#4db6ac\n    style Phi4 fill:#ffb74d'}),"\n",(0,r.jsx)(n.h3,{id:"why-four-storage-systems",children:"Why Four Storage Systems?"}),"\n",(0,r.jsx)(n.p,{children:'When I first looked at LightRAG, I thought "surely we don\'t need ALL of these." I tried running it with just PostgreSQL. Failed. Tried with just Neo4j. Failed.'}),"\n",(0,r.jsx)(n.p,{children:"Turns out, each storage system has a specific job:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"PostgreSQL with pgvector"})," handles three critical tasks:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Vector embeddings for similarity search"}),"\n",(0,r.jsx)(n.li,{children:"Key-value storage for document metadata"}),"\n",(0,r.jsx)(n.li,{children:"Document processing status tracking"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Neo4j"})," stores the knowledge graph\u2014the relationships between entities that make Graph RAG powerful. This is where the magic happens: multi-hop reasoning, entity deduplication, and relationship inference."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Redis"})," caches LLM responses. When Phi-4 takes 2-3 seconds to extract entities from a document, you don't want to do it twice. Redis cut my processing time by 60% on repeated operations."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Phi-4 via Ollama"})," is your local LLM. 14 billion parameters, 128K context window (if you configure it right\u2014more on that later), and it runs entirely on your hardware."]}),"\n",(0,r.jsx)(n.h3,{id:"lightrag-the-secret-sauce",children:"LightRAG: The Secret Sauce"}),"\n",(0,r.jsx)(n.p,{children:"LightRAG isn't just another RAG framework. It's specifically designed for graph-based RAG with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Multi-hop reasoning"}),': "What technologies does our healthcare platform use and what security measures protect patient data?" requires jumping across multiple entity relationships.']}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Entity deduplication"}),': "AWS Lambda," "Lambda functions," and "\u03bb" all refer to the same thing. LightRAG figures this out.']}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Hybrid query modes"}),": Choose between local search (specific entities), global search (broad patterns), or mix both for comprehensive answers."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document status tracking"}),": Production systems fail. Documents get corrupted. APIs time out. LightRAG tracks every document's processing state with built-in retry capability."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"two-deployment-paths",children:"Two Deployment Paths"}),"\n",(0,r.jsx)(n.p,{children:"I've deployed this system both ways. Here's what you need to know about each."}),"\n",(0,r.jsx)(n.h3,{id:"path-1-local-linux-machine-budget-friendly",children:"Path 1: Local Linux Machine (Budget-Friendly)"}),"\n",(0,r.jsx)(n.p,{children:"This is my development setup. One beefy Linux box in the corner of my office."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Hardware requirements:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Minimum viable (you can actually run this):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CPU: 16 cores"}),"\n",(0,r.jsx)(n.li,{children:"RAM: 64GB"}),"\n",(0,r.jsx)(n.li,{children:"GPU: RTX 4090 (24GB VRAM)"}),"\n",(0,r.jsx)(n.li,{children:"Storage: 500GB NVMe SSD"}),"\n",(0,r.jsx)(n.li,{children:"Cost: ~$3,000-4,000"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Recommended (smooth experience):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CPU: 24-32 cores"}),"\n",(0,r.jsx)(n.li,{children:"RAM: 128GB"}),"\n",(0,r.jsx)(n.li,{children:"GPU: A6000 (48GB VRAM) or dual RTX 4090"}),"\n",(0,r.jsx)(n.li,{children:"Storage: 1TB NVMe SSD"}),"\n",(0,r.jsx)(n.li,{children:"Cost: ~$6,000-8,000"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Monthly operating cost:"})," $50-150 (mostly electricity)"]}),"\n",(0,r.jsx)(n.p,{children:"The beauty? After that initial hardware investment, you're essentially running free. No per-token charges. No usage-based billing surprises."}),"\n",(0,r.jsx)(n.h3,{id:"path-2-aws-cloud-native-architecture",children:"Path 2: AWS Cloud-Native Architecture"}),"\n",(0,r.jsx)(n.p,{children:"For production deployments, I recommend AWS. Here's the architecture:"}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TB\n    subgraph Internet\n        Users[Users]\n    end\n\n    subgraph VPC["AWS VPC"]\n        subgraph Public["Public Subnet"]\n            ALB[Application Load Balancer]\n        end\n\n        subgraph Private["Private Subnet"]\n            ECS[ECS Fargate<br/>LightRAG App]\n            EC2[EC2 G5<br/>Phi-4 LLM<br/>GPU Inference]\n        end\n\n        subgraph Data["Data Subnet"]\n            RDS[(RDS PostgreSQL<br/>pgvector)]\n            Neo4jEC2[EC2 r6i<br/>Neo4j]\n            ElastiCache[(ElastiCache<br/>Redis)]\n        end\n    end\n\n    subgraph External["AWS Services"]\n        S3[(S3 Bucket<br/>Documents)]\n        Secrets[Secrets Manager]\n        CloudWatch[CloudWatch<br/>Logs & Metrics]\n    end\n\n    Users --\x3e ALB\n    ALB --\x3e ECS\n    ECS --\x3e RDS\n    ECS --\x3e Neo4jEC2\n    ECS --\x3e ElastiCache\n    ECS --\x3e EC2\n    ECS --\x3e S3\n    ECS --\x3e Secrets\n    ECS --\x3e CloudWatch\n\n    style Users fill:#e1f5ff\n    style ALB fill:#ff9800\n    style ECS fill:#4caf50\n    style EC2 fill:#ffb74d\n    style RDS fill:#2196f3\n    style Neo4jEC2 fill:#2196f3\n    style ElastiCache fill:#2196f3\n    style S3 fill:#9c27b0\n    style Secrets fill:#9c27b0\n    style CloudWatch fill:#9c27b0'}),"\n",(0,r.jsx)(n.p,{children:"Here's the service mapping:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"Component          Local                  AWS Service\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPostgreSQL         Docker Container        RDS for PostgreSQL\nNeo4j              Docker Container        EC2 + EBS (Neo4j)\nRedis              Docker Container        ElastiCache for Redis\nPhi-4 LLM          Ollama on GPU          EC2 G5 instance\nLightRAG App       Docker Container        ECS Fargate / EC2\nStorage            Local disk             EFS / S3\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why these specific choices?"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"RDS for PostgreSQL"})," gives you managed backups, automated patching, and Multi-AZ high availability. Yes, it costs more than self-managed (~$280-560/month vs ~$100-200/month), but the operational overhead savings are worth it."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Neo4j on EC2"})," because there's no managed Neo4j on AWS yet. I use r6i.2xlarge (8 vCPU, 64GB RAM, ~$400/month) with gp3 EBS volumes. Reserved instances cut this to ~$300/month."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ElastiCache for Redis"})," (~$150-280/month) handles failover automatically. Better than self-managed for production."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"EC2 G5 for Phi-4"})," is the interesting one. g5.2xlarge gives you 24GB GPU, enough for Phi-4. At $1.20/hour, that's ",(0,r.jsx)(n.del,{children:"$900/month for 24/7 operation. But here's the trick: use Spot Instances during development for 60-70% savings. Run it only during business hours in dev environments ("}),"$200-400/month)."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"AWS Cost Reality Check:"})}),"\n",(0,r.jsx)(n.p,{children:"Development/testing: ~$870/month"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RDS PostgreSQL: $280"}),"\n",(0,r.jsx)(n.li,{children:"EC2 Neo4j: $200"}),"\n",(0,r.jsx)(n.li,{children:"ElastiCache Redis: $150"}),"\n",(0,r.jsx)(n.li,{children:"EC2 G5 (Spot, 8h/day): $100"}),"\n",(0,r.jsx)(n.li,{children:"ECS Fargate: $60"}),"\n",(0,r.jsx)(n.li,{children:"Storage: $50"}),"\n",(0,r.jsx)(n.li,{children:"Data Transfer: $30"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Production 24/7: ~$2,220/month"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RDS PostgreSQL Multi-AZ: $560"}),"\n",(0,r.jsx)(n.li,{children:"EC2 Neo4j Reserved: $300"}),"\n",(0,r.jsx)(n.li,{children:"ElastiCache Redis HA: $280"}),"\n",(0,r.jsx)(n.li,{children:"EC2 G5 Reserved: $650"}),"\n",(0,r.jsx)(n.li,{children:"ECS Fargate HA: $180"}),"\n",(0,r.jsx)(n.li,{children:"Infrastructure: $250"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Still 33% cheaper than the OpenAI API approach."}),"\n",(0,r.jsx)(n.h2,{id:"what-i-learned-the-hard-way",children:"What I Learned (The Hard Way)"}),"\n",(0,r.jsx)(n.p,{children:"Let me save you some pain."}),"\n",(0,r.jsx)(n.h3,{id:"lesson-1-git-history-and-upstream-syncing",children:"Lesson 1: Git History and Upstream Syncing"}),"\n",(0,r.jsx)(n.p,{children:"I forked the LightRAG repository to customize my docker-compose setup. Everything worked great until I wanted to pull upstream updates."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"git merge upstream/main"}),' failed spectacularly: "refusing to merge unrelated histories."']}),"\n",(0,r.jsx)(n.p,{children:"The problem? I'd made too many custom changes. The solution wasn't pretty:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Always backup before destructive operations\ngit branch backup-main-$(date +%Y%m%d)\n\n# Hard reset to upstream (scary but necessary)\ngit reset --hard upstream/main\n\n# Cherry-pick your custom configs back\ngit checkout backup-branch -- docker-compose.yml\ngit checkout backup-branch -- .env\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Lesson learned:"})," Keep your customizations in separate override files. LightRAG supports ",(0,r.jsx)(n.code,{children:"docker-compose.override.yml"})," for exactly this reason."]}),"\n",(0,r.jsx)(n.h3,{id:"lesson-2-docker-service-dependencies-matter",children:"Lesson 2: Docker Service Dependencies Matter"}),"\n",(0,r.jsx)(n.p,{children:'My first deployment kept failing with cryptic DNS resolution errors. The LightRAG container would start, try to connect to PostgreSQL, and fail\u2014even though PostgreSQL was "running."'}),"\n",(0,r.jsx)(n.p,{children:"The issue? Service start order. PostgreSQL takes 10-15 seconds to actually become ready. LightRAG was trying to connect after 2 seconds."}),"\n",(0,r.jsx)(n.p,{children:"The fix:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'services:\n  lightrag:\n    depends_on:\n      postgres:\n        condition: service_healthy\n      neo4j:\n        condition: service_healthy\n      redis:\n        condition: service_healthy\n\n  postgres:\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U postgres"]\n      interval: 5s\n      timeout: 5s\n      retries: 5\n'})}),"\n",(0,r.jsx)(n.p,{children:'Now services wait for actual health, not just "started."'}),"\n",(0,r.jsx)(n.h3,{id:"lesson-3-phi-4-context-window-configuration",children:"Lesson 3: Phi-4 Context Window Configuration"}),"\n",(0,r.jsx)(n.p,{children:"This one cost me hours of debugging."}),"\n",(0,r.jsx)(n.p,{children:"LightRAG needs at least 32K context window to work properly. Default Ollama models? 8K context."}),"\n",(0,r.jsx)(n.p,{children:'I kept getting errors like "context length exceeded" during entity extraction. The documents weren\'t even that long\u2014maybe 5,000 words.'}),"\n",(0,r.jsx)(n.p,{children:"The problem? Phi-4's system prompt, the document text, AND the structured output schema all fit in that context window. 8K wasn't enough."}),"\n",(0,r.jsx)(n.p,{children:"The fix:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create a custom Modelfile\nollama show --modelfile phi4 > Modelfile\n\n# Add this line\necho "PARAMETER num_ctx 32768" >> Modelfile\n\n# Create new model with larger context\nollama create -f Modelfile phi4-32k\n'})}),"\n",(0,r.jsx)(n.p,{children:"Or set it via the API:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'llm_model_kwargs = {\n    "options": {\n        "num_ctx": 32768\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Critical:"})," If you're running LightRAG and seeing entity extraction failures, check your context window first."]}),"\n",(0,r.jsx)(n.h3,{id:"lesson-4-document-processing-needs-robust-retry-logic",children:"Lesson 4: Document Processing Needs Robust Retry Logic"}),"\n",(0,r.jsx)(n.p,{children:"Production systems fail. API calls timeout. LLMs hallucinate invalid JSON. Documents get corrupted during upload."}),"\n",(0,r.jsxs)(n.p,{children:['I discovered LightRAG has a "Retry Failed Documents" button in the Web UI (in ',(0,r.jsx)(n.code,{children:"lightrag_webui/src/features/DocumentManager.tsx"}),"). It implements smart polling:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Fast polling during active retry\nstartPollingInterval(2000);\n\n// After 15 seconds, switch to adaptive polling\nsetTimeout(() => {\n  const normalInterval = hasActiveDocuments ? 5000 : 30000;\n  startPollingInterval(normalInterval);\n}, 15000);\n"})}),"\n",(0,r.jsx)(n.p,{children:"This pattern\u2014fast polling during active work, slow polling otherwise\u2014is brilliant for managing client-side resource usage while maintaining responsiveness."}),"\n",(0,r.jsx)(n.p,{children:"I adopted the same pattern for monitoring batch document uploads."}),"\n",(0,r.jsx)(n.h3,{id:"lesson-5-memory-tuning-is-non-negotiable",children:"Lesson 5: Memory Tuning Is Non-Negotiable"}),"\n",(0,r.jsx)(n.p,{children:"Out-of-the-box configurations are sized for development, not production."}),"\n",(0,r.jsx)(n.p,{children:"After indexing about 10,000 documents, my query performance degraded from 2 seconds to 15+ seconds. The culprit? Default memory settings."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PostgreSQL tuning:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- Assuming 64GB system RAM\nshared_buffers = 8GB\neffective_cache_size = 24GB\nmaintenance_work_mem = 2GB\nwork_mem = 256MB\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Neo4j tuning:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"dbms.memory.heap.max_size = 16G\ndbms.memory.pagecache.size = 20G\n"})}),"\n",(0,r.jsx)(n.p,{children:"Result? Query performance improved 3-5x. Worth the 30 minutes to configure properly."}),"\n",(0,r.jsx)(n.h2,{id:"getting-started-30-minute-quick-start",children:"Getting Started: 30-Minute Quick Start"}),"\n",(0,r.jsx)(n.p,{children:"Let me walk you through the setup. This assumes you have Docker, Docker Compose, and either a GPU with 24GB+ VRAM or patience for CPU inference."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-prerequisites-check",children:"Step 1: Prerequisites Check"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Docker and Docker Compose\ndocker --version  # Should be 20.10+\ndocker compose version  # Should be 2.0+\n\n# GPU check (if using GPU)\nnvidia-smi  # Should show your GPU\n\n# Disk space\ndf -h  # Need 500GB+ free\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-clone-and-configure",children:"Step 2: Clone and Configure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/HKUDS/LightRAG.git\ncd LightRAG\ncp env.example .env\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-set-up-phi-4-with-ollama",children:"Step 3: Set Up Phi-4 with Ollama"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Install Ollama\ncurl -fsSL https://ollama.com/install.sh | sh\n\n# Pull Phi-4\nollama pull phi4\n\n# Configure for 32K context\nollama show --modelfile phi4 > Modelfile\necho "PARAMETER num_ctx 32768" >> Modelfile\nollama create -f Modelfile phi4-32k\n\n# Verify\nollama run phi4-32k "Test message"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"step-4-configure-environment-variables",children:"Step 4: Configure Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:["Edit your ",(0,r.jsx)(n.code,{children:".env"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# LLM Configuration\nLLM_BINDING=ollama\nLLM_MODEL=phi4-32k\nEMBEDDING_MODEL=nomic-embed-text\nEMBEDDING_DIM=768\n\n# Database Configuration\nPOSTGRES_PASSWORD=your_secure_password_here\nNEO4J_PASSWORD=your_secure_password_here\nREDIS_PASSWORD=your_secure_password_here\n\n# Optional: API authentication\nLIGHTRAG_API_KEY=your_api_key_here\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Security note:"}),' Change those passwords. Seriously. I\'ve seen production systems compromised because someone left the default "password123."']}),"\n",(0,r.jsx)(n.h3,{id:"step-5-launch-the-stack",children:"Step 5: Launch the Stack"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Start all services\ndocker compose up -d\n\n# Watch the logs\ndocker compose logs -f\n\n# Wait for all services to be healthy (2-3 minutes)\ndocker compose ps\n"})}),"\n",(0,r.jsx)(n.p,{children:'You should see all services with status "Up (healthy)".'}),"\n",(0,r.jsx)(n.h3,{id:"step-6-verify-deployment",children:"Step 6: Verify Deployment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Check LightRAG API health\ncurl http://localhost:9621/health\n\n# Should return: {"status": "healthy"}\n\n# Access Web UI\nopen http://localhost:9621/webui/\n'})}),"\n",(0,r.jsx)(n.p,{children:"If you see the Web UI, you're ready to start indexing documents."}),"\n",(0,r.jsx)(n.h2,{id:"real-world-use-case-indexing-technical-documentation",children:"Real-World Use Case: Indexing Technical Documentation"}),"\n",(0,r.jsx)(n.p,{children:"Let me show you a practical example. I recently indexed my company's entire technical documentation\u2014about 500 Markdown files covering architecture, APIs, deployment guides, and runbooks."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-prepare-your-documents",children:"Step 1: Prepare Your Documents"}),"\n",(0,r.jsxs)(n.p,{children:["Export your documentation as plain text, Markdown, or PDF. Place files in an ",(0,r.jsx)(n.code,{children:"inputs"})," directory:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir inputs\n# Copy your docs here\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-bulk-insert-via-api",children:"Step 2: Bulk Insert via API"}),"\n",(0,r.jsx)(n.p,{children:"Here's a Python script I use for batch uploads:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\nimport requests\nfrom pathlib import Path\n\nLIGHTRAG_URL = "http://localhost:9621"\nAPI_KEY = "your-api-key"  # If authentication enabled\n\nheaders = {\n    "Authorization": f"Bearer {API_KEY}",\n    "Content-Type": "application/json"\n}\n\ndef index_directory(input_dir: str):\n    """Index all text files in a directory"""\n    documents = []\n\n    for file_path in Path(input_dir).rglob("*.md"):\n        with open(file_path, "r", encoding="utf-8") as f:\n            content = f.read()\n\n            documents.append({\n                "content": content,\n                "file_path": str(file_path),\n                "metadata": {\n                    "source": "technical_docs",\n                    "category": file_path.parent.name\n                }\n            })\n\n    # Batch insert (chunk if >100 documents)\n    batch_size = 50\n    for i in range(0, len(documents), batch_size):\n        batch = documents[i:i + batch_size]\n\n        response = requests.post(\n            f"{LIGHTRAG_URL}/api/documents/insert",\n            headers=headers,\n            json={"documents": batch}\n        )\n\n        if response.status_code == 200:\n            print(f"Inserted batch {i//batch_size + 1}: {len(batch)} documents")\n        else:\n            print(f"Error: {response.status_code} - {response.text}")\n\nif __name__ == "__main__":\n    index_directory("./inputs")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-monitor-processing",children:"Step 3: Monitor Processing"}),"\n",(0,r.jsxs)(n.p,{children:["Open the Web UI at ",(0,r.jsx)(n.code,{children:"http://localhost:9621/webui/"})," and navigate to the Documents tab."]}),"\n",(0,r.jsx)(n.p,{children:"You'll see each document's processing status:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pending"}),": Queued for processing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing"}),": Currently extracting entities and relationships"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Completed"}),": Successfully indexed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Failed"}),": Error occurred (check logs)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'For failed documents, click "Retry Failed Documents" to reprocess them.'}),"\n",(0,r.jsx)(n.mermaid,{value:"stateDiagram-v2\n    [*] --\x3e Pending: Document Uploaded\n    Pending --\x3e Processing: Queue Pick-up\n    Processing --\x3e EntityExtraction: Phi-4 Analysis\n    EntityExtraction --\x3e GraphConstruction: Build Relationships\n    GraphConstruction --\x3e VectorEmbedding: Generate Embeddings\n    VectorEmbedding --\x3e Completed: Success\n\n    EntityExtraction --\x3e Failed: Error\n    GraphConstruction --\x3e Failed: Error\n    VectorEmbedding --\x3e Failed: Error\n\n    Failed --\x3e Pending: Retry Button\n    Completed --\x3e [*]\n\n    note right of EntityExtraction\n        Phi-4 extracts entities\n        and relationships\n        from document text\n    end note\n\n    note right of GraphConstruction\n        Neo4j stores entity\n        relationships for\n        multi-hop queries\n    end note\n\n    note right of VectorEmbedding\n        PostgreSQL pgvector\n        enables similarity\n        search\n    end note"}),"\n",(0,r.jsx)(n.h3,{id:"step-4-query-your-knowledge-base",children:"Step 4: Query Your Knowledge Base"}),"\n",(0,r.jsx)(n.p,{children:"Now for the fun part\u2014querying:"}),"\n",(0,r.jsx)(n.mermaid,{value:"flowchart LR\n    Query[User Query] --\x3e Mode{Query Mode?}\n\n    Mode --\x3e|Local| LocalSearch[Entity Search<br/>in Knowledge Graph]\n    Mode --\x3e|Global| GlobalSearch[Pattern Matching<br/>Across Corpus]\n    Mode --\x3e|Hybrid| Both[Combined Approach]\n    Mode --\x3e|Naive| Vector[Traditional<br/>Vector Search]\n\n    LocalSearch --\x3e Neo4j[(Neo4j<br/>Graph Query)]\n    GlobalSearch --\x3e PG1[(PostgreSQL<br/>Vector Search)]\n    Both --\x3e Neo4j\n    Both --\x3e PG1\n    Vector --\x3e PG2[(PostgreSQL<br/>Vector Only)]\n\n    Neo4j --\x3e Context1[Graph Context]\n    PG1 --\x3e Context2[Vector Context]\n    PG2 --\x3e Context3[Vector Context]\n\n    Context1 --\x3e Phi4[Phi-4 LLM<br/>Generate Answer]\n    Context2 --\x3e Phi4\n    Context3 --\x3e Phi4\n\n    Phi4 --\x3e Cache{In Redis<br/>Cache?}\n    Cache --\x3e|No| Generate[Generate<br/>New Answer]\n    Cache --\x3e|Yes| Cached[Return<br/>Cached Answer]\n\n    Generate --\x3e Answer[Final Answer]\n    Cached --\x3e Answer\n\n    style Query fill:#e1f5ff\n    style Mode fill:#fff9c4\n    style Neo4j fill:#4db6ac\n    style PG1 fill:#4db6ac\n    style PG2 fill:#4db6ac\n    style Phi4 fill:#ffb74d\n    style Cache fill:#ffccbc\n    style Answer fill:#c8e6c9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def query_knowledge_base(query: str, mode: str = "hybrid"):\n    """\n    Query modes:\n    - local: Entity-focused, specific questions\n    - global: High-level summaries, broad patterns\n    - hybrid: Combines both approaches\n    - naive: Traditional RAG (baseline comparison)\n    - mix: Weighted combination of local and global\n    """\n    response = requests.post(\n        f"{LIGHTRAG_URL}/api/query",\n        headers=headers,\n        json={\n            "query": query,\n            "mode": mode,\n            "top_k": 40  # Number of relevant chunks to retrieve\n        }\n    )\n\n    result = response.json()\n    print(f"\\n**Question:** {query}")\n    print(f"\\n**Answer:**\\n{result[\'answer\']}")\n    print(f"\\n**Sources:** {len(result.get(\'sources\', []))} documents")\n\n    return result\n\n# Example queries\nquery_knowledge_base(\n    "What is our microservices deployment strategy?",\n    mode="hybrid"\n)\n\nquery_knowledge_base(\n    "How do we handle authentication across services?",\n    mode="local"\n)\n\nquery_knowledge_base(\n    "Summarize our cloud infrastructure architecture",\n    mode="global"\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"results-in-my-testing",children:"Results in My Testing"}),"\n",(0,r.jsx)(n.p,{children:"On my 500-document technical documentation corpus:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Indexing time:"})," ~45 minutes (with Phi-4 on RTX 4090)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query latency:"})," 2-4 seconds for hybrid queries"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Answer quality:"})," Consistently better than naive RAG, on par with GPT-4 + GraphRAG"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cost:"})," Zero per query (after infrastructure investment)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'The "hybrid" mode performed best for most questions, combining specific entity lookups with broader pattern recognition.'}),"\n",(0,r.jsx)(n.h2,{id:"production-considerations",children:"Production Considerations"}),"\n",(0,r.jsx)(n.p,{children:"Taking this from prototype to production requires thinking about security, monitoring, and reliability."}),"\n",(0,r.jsx)(n.h3,{id:"security-hardening",children:"Security Hardening"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Network isolation is critical:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"VPC architecture"})," (if on AWS):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Private subnets for databases (no internet access)"}),"\n",(0,r.jsx)(n.li,{children:"Application subnet behind ALB"}),"\n",(0,r.jsx)(n.li,{children:"VPN or bastion host for admin access"}),"\n",(0,r.jsx)(n.li,{children:"Security groups limiting port access by source"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Secret management:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use AWS Secrets Manager or HashiCorp Vault"}),"\n",(0,r.jsx)(n.li,{children:"Rotate database passwords quarterly"}),"\n",(0,r.jsxs)(n.li,{children:["Never commit ",(0,r.jsx)(n.code,{children:".env"})," files to git (add to ",(0,r.jsx)(n.code,{children:".gitignore"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Use IAM roles instead of access keys where possible"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"API authentication:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Enable ",(0,r.jsx)(n.code,{children:"LIGHTRAG_API_KEY"})," for production"]}),"\n",(0,r.jsx)(n.li,{children:"Implement JWT tokens for user authentication"}),"\n",(0,r.jsx)(n.li,{children:"Add rate limiting (I recommend 100 requests/minute per user)"}),"\n",(0,r.jsx)(n.li,{children:"Log all API access for audit trails"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"monitoring-and-observability",children:"Monitoring and Observability"}),"\n",(0,r.jsx)(n.p,{children:"You can't fix what you can't see. Here's what I monitor:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Application metrics:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Document processing throughput (documents/hour)"}),"\n",(0,r.jsx)(n.li,{children:"Query latency (p50, p95, p99 percentiles)"}),"\n",(0,r.jsx)(n.li,{children:"Error rates by operation type"}),"\n",(0,r.jsx)(n.li,{children:"LLM token usage (context window utilization)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Infrastructure metrics:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Database query performance (slow query logs)"}),"\n",(0,r.jsx)(n.li,{children:"Knowledge graph size (nodes/edges over time)"}),"\n",(0,r.jsx)(n.li,{children:"Disk space (especially for Neo4j graph data)"}),"\n",(0,r.jsx)(n.li,{children:"GPU utilization and memory (if using GPU inference)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Recommended tools:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prometheus + Grafana for metrics visualization"}),"\n",(0,r.jsx)(n.li,{children:"ELK stack (Elasticsearch, Logstash, Kibana) for log aggregation"}),"\n",(0,r.jsx)(n.li,{children:"CloudWatch if on AWS (integrated with RDS, ECS, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Alerting rules I use:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Failed document processing count > 10 in 1 hour"}),"\n",(0,r.jsx)(n.li,{children:"Query latency p95 > 10 seconds"}),"\n",(0,r.jsx)(n.li,{children:"Database connection pool exhaustion"}),"\n",(0,r.jsx)(n.li,{children:"Disk space < 20% remaining"}),"\n",(0,r.jsx)(n.li,{children:"GPU out-of-memory errors"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"backup-and-disaster-recovery",children:"Backup and Disaster Recovery"}),"\n",(0,r.jsx)(n.p,{children:"Data loss in a knowledge base is catastrophic. Your entire organization's institutional knowledge, gone."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"My backup strategy:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PostgreSQL:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Automated daily snapshots (RDS handles this automatically)"}),"\n",(0,r.jsx)(n.li,{children:"Point-in-time recovery enabled (up to 7 days)"}),"\n",(0,r.jsx)(n.li,{children:"Monthly backups exported to S3 for long-term retention"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Neo4j:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Weekly full backups using ",(0,r.jsx)(n.code,{children:"neo4j-admin backup"})]}),"\n",(0,r.jsx)(n.li,{children:"Daily incremental backups"}),"\n",(0,r.jsx)(n.li,{children:"Store backups in separate S3 bucket with versioning"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Redis:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AOF (Append-Only File) persistence enabled"}),"\n",(0,r.jsx)(n.li,{children:"RDB snapshots every 6 hours"}),"\n",(0,r.jsx)(n.li,{children:"Redis data is cache\u2014can be rebuilt from PostgreSQL if lost"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"S3 document storage:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Versioning enabled (recover accidentally deleted files)"}),"\n",(0,r.jsx)(n.li,{children:"Cross-region replication for disaster recovery"}),"\n",(0,r.jsx)(n.li,{children:"Lifecycle policies to archive old versions to Glacier"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Recovery objectives:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RTO (Recovery Time Objective): < 4 hours"}),"\n",(0,r.jsx)(n.li,{children:"RPO (Recovery Point Objective): < 24 hours"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Test your recovery process quarterly. I learned this the hard way when a junior engineer accidentally dropped a Neo4j database. Took us 6 hours to restore because we'd never practiced the procedure."}),"\n",(0,r.jsx)(n.h3,{id:"scaling-strategies",children:"Scaling Strategies"}),"\n",(0,r.jsx)(n.p,{children:"Start small, scale based on actual usage metrics."}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TB\n    subgraph Start["Starting Point: Single Instance"]\n        App1[LightRAG App]\n        PG1[(PostgreSQL)]\n        Neo1[(Neo4j)]\n        GPU1[Phi-4 GPU]\n    end\n\n    subgraph Vertical["Phase 1: Vertical Scaling"]\n        App2[LightRAG App]\n        PG2[(PostgreSQL<br/>Larger Instance<br/>More RAM)]\n        Neo2[(Neo4j<br/>More RAM<br/>More Storage)]\n        GPU2[Phi-4<br/>Larger GPU<br/>A6000 or Multi-GPU]\n    end\n\n    subgraph Horizontal["Phase 2: Horizontal Scaling"]\n        LB[Load Balancer]\n        App3a[LightRAG App 1]\n        App3b[LightRAG App 2]\n        App3c[LightRAG App N]\n        PGMain[(Primary<br/>PostgreSQL)]\n        PGReplica1[(Read Replica 1)]\n        PGReplica2[(Read Replica 2)]\n        NeoCluster[(Neo4j Cluster<br/>Causal Clustering)]\n        GPU3a[Phi-4 Instance 1]\n        GPU3b[Phi-4 Instance 2]\n        RedisCluster[(Redis Cluster<br/>HA Mode)]\n    end\n\n    Start --\x3e|Performance<br/>Degradation| Vertical\n    Vertical --\x3e|Still Slow or<br/>Need HA| Horizontal\n\n    LB --\x3e App3a\n    LB --\x3e App3b\n    LB --\x3e App3c\n    App3a --\x3e PGMain\n    App3a --\x3e PGReplica1\n    App3b --\x3e PGReplica2\n    App3a --\x3e NeoCluster\n    App3b --\x3e NeoCluster\n    App3c --\x3e NeoCluster\n    App3a --\x3e GPU3a\n    App3b --\x3e GPU3b\n    App3a --\x3e RedisCluster\n\n    style Start fill:#ffccbc\n    style Vertical fill:#fff9c4\n    style Horizontal fill:#c8e6c9\n    style LB fill:#ff9800'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Vertical scaling (do this first):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Increase PostgreSQL instance size (more RAM = better vector search performance)"}),"\n",(0,r.jsx)(n.li,{children:"Add more RAM to Neo4j (graph traversal is memory-intensive)"}),"\n",(0,r.jsx)(n.li,{children:"Upgrade to larger GPU for Phi-4 (faster inference)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Horizontal scaling (when vertical hits limits):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PostgreSQL read replicas for query traffic"}),"\n",(0,r.jsx)(n.li,{children:"Neo4j Causal Cluster for high availability (Enterprise Edition required)"}),"\n",(0,r.jsx)(n.li,{children:"Multiple LightRAG application instances behind ALB"}),"\n",(0,r.jsx)(n.li,{children:"Consider dedicated Phi-4 inference endpoints per workload"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Performance optimization tricks:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enable aggressive query result caching in Redis"}),"\n",(0,r.jsx)(n.li,{children:"Use pgvector HNSW indexing (better than IVFFlat for most cases)"}),"\n",(0,r.jsx)(n.li,{children:"Batch document processing during off-peak hours"}),"\n",(0,r.jsx)(n.li,{children:"Implement connection pooling (PgBouncer for PostgreSQL)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"roi-and-business-case",children:"ROI and Business Case"}),"\n",(0,r.jsx)(n.p,{children:"Let me break down the economics for your CFO."}),"\n",(0,r.jsx)(n.h3,{id:"12-month-cost-comparison",children:"12-Month Cost Comparison"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"OpenAI API Approach (baseline):"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Monthly"}),(0,r.jsx)(n.th,{children:"Annual"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GPT-4 API (entity extraction)"}),(0,r.jsx)(n.td,{children:"$1,500"}),(0,r.jsx)(n.td,{children:"$18,000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GPT-4 API (query responses)"}),(0,r.jsx)(n.td,{children:"$800"}),(0,r.jsx)(n.td,{children:"$9,600"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Embedding API"}),(0,r.jsx)(n.td,{children:"$200"}),(0,r.jsx)(n.td,{children:"$2,400"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Vector database (Pinecone)"}),(0,r.jsx)(n.td,{children:"$300"}),(0,r.jsx)(n.td,{children:"$3,600"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Graph database (Neo4j Aura)"}),(0,r.jsx)(n.td,{children:"$500"}),(0,r.jsx)(n.td,{children:"$6,000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"TOTAL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"$3,300"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"$39,600"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Self-Hosted on AWS:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Monthly"}),(0,r.jsx)(n.th,{children:"Annual"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"RDS PostgreSQL"}),(0,r.jsx)(n.td,{children:"$560"}),(0,r.jsx)(n.td,{children:"$6,720"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"EC2 Neo4j (Reserved)"}),(0,r.jsx)(n.td,{children:"$300"}),(0,r.jsx)(n.td,{children:"$3,600"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ElastiCache Redis"}),(0,r.jsx)(n.td,{children:"$280"}),(0,r.jsx)(n.td,{children:"$3,360"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"EC2 G5 Phi-4 (Reserved)"}),(0,r.jsx)(n.td,{children:"$650"}),(0,r.jsx)(n.td,{children:"$7,800"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ECS Fargate LightRAG"}),(0,r.jsx)(n.td,{children:"$180"}),(0,r.jsx)(n.td,{children:"$2,160"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Infrastructure (ALB, S3, etc)"}),(0,r.jsx)(n.td,{children:"$250"}),(0,r.jsx)(n.td,{children:"$3,000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"TOTAL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"$2,220"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"$26,640"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Annual savings: $12,960 (33% reduction)"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Self-Hosted On-Premise:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Initial"}),(0,r.jsx)(n.th,{children:"Annual Operating"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Hardware (GPU server)"}),(0,r.jsx)(n.td,{children:"$6,000"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Electricity (24/7)"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"$1,200"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Internet/Bandwidth"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"$600"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Maintenance/Upgrades"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"$500"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"TOTAL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"$6,000 upfront"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"$2,300/year"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Break-even vs OpenAI: 2.3 months"}),"\n",(0,r.jsx)(n.strong,{children:"3-year TCO: $12,900 (67% savings vs OpenAI)"})]}),"\n",(0,r.jsx)(n.h3,{id:"beyond-cost-strategic-value",children:"Beyond Cost: Strategic Value"}),"\n",(0,r.jsx)(n.p,{children:"The spreadsheet tells part of the story. Here's the rest:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Data sovereignty:"})," Your proprietary knowledge base never touches third-party APIs. For healthcare, finance, or legal firms, this eliminates entire categories of compliance concerns."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Predictable scaling:"})," No surprise bills when usage spikes. Your infrastructure costs are fixed\u2014scale at your own pace."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Customization freedom:"})," Fine-tune Phi-4 on your domain-specific data. Optimize prompt templates for your use cases. Implement custom entity extraction logic. Good luck doing that with a closed API."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Performance guarantees:"})," No rate limits. No throttling. No waiting on quota increases. You control throughput and optimize for your specific workload."]}),"\n",(0,r.jsx)(n.h2,{id:"when-should-you-choose-this-approach",children:"When Should You Choose This Approach?"}),"\n",(0,r.jsx)(n.p,{children:"Not every organization needs self-hosted RAG. Here's my decision framework:"}),"\n",(0,r.jsx)(n.mermaid,{value:"flowchart TD\n    Start([RAG System<br/>Decision]) --\x3e Data{Sensitive or<br/>Proprietary Data?}\n\n    Data --\x3e|Yes| Compliance{HIPAA, GDPR,<br/>or Trade Secrets?}\n    Data --\x3e|No| Volume{Process 10K+<br/>docs or 1K+<br/>queries/day?}\n\n    Compliance --\x3e|Yes| SelfHosted[\u2705 Self-Hosted<br/>LightRAG + Phi-4]\n    Compliance --\x3e|No| DevOps{DevOps Team<br/>Available?}\n\n    Volume --\x3e|Yes| CostCheck{Cost-sensitive?}\n    Volume --\x3e|No| TimeToMarket{Need fast<br/>time to market?}\n\n    CostCheck --\x3e|Yes| SelfHosted\n    CostCheck --\x3e|No| DevOps\n\n    DevOps --\x3e|Yes| Customization{Need custom<br/>entity extraction?}\n    DevOps --\x3e|No| API[\u274c Use OpenAI API<br/>or Similar]\n\n    Customization --\x3e|Yes| SelfHosted\n    Customization --\x3e|No| Timeline{Can invest<br/>2-4 weeks<br/>setup?}\n\n    Timeline --\x3e|Yes| SelfHosted\n    Timeline --\x3e|No| API\n\n    TimeToMarket --\x3e|< 1 week| API\n    TimeToMarket --\x3e|> 1 week| Budget{Budget for<br/>infrastructure?}\n\n    Budget --\x3e|Yes| OnPrem[\u2705 On-Premise<br/>GPU Server]\n    Budget --\x3e|No| API\n\n    style Start fill:#e1f5ff\n    style SelfHosted fill:#c8e6c9\n    style OnPrem fill:#c8e6c9\n    style API fill:#ffcdd2\n    style Data fill:#fff9c4\n    style Compliance fill:#fff9c4\n    style DevOps fill:#fff9c4\n    style Volume fill:#fff9c4"}),"\n",(0,r.jsx)(n.h3,{id:"-choose-local--lightrag-if-you",children:"\u2705 Choose Local + LightRAG if you:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Have proprietary/sensitive data"})," - HIPAA, GDPR, trade secrets, or anything you can't ethically send to third parties"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Need predictable costs at scale"})," - Processing 50K+ documents with 10K+ queries/day makes APIs expensive fast"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Require customization"})," - Domain-specific entity extraction, custom graph schemas, specialized prompts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Want infrastructure control"})," - Security policies require on-premise or specific cloud configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Can invest in setup"})," - Initial deployment takes 2-4 weeks with proper testing and hardening"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-stick-with-apis-if-you",children:"\u274c Stick with APIs if you:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Need fastest time to market"})," - Can't wait 2-4 weeks for infrastructure setup"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Have limited DevOps resources"})," - No one on staff comfortable managing databases and GPU inference"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Process non-sensitive data"})," - Public information, marketing content, open-source docs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Prefer variable opex over fixed capex"})," - Want to pay per use, not maintain infrastructure"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Require vendor support SLAs"})," - Need 24/7 support with guaranteed response times"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For most enterprises with >10K documents and serious data governance requirements, self-hosted makes sense. For startups prototyping or teams processing public data, APIs are faster and simpler."}),"\n",(0,r.jsx)(n.h2,{id:"future-enhancements-im-exploring",children:"Future Enhancements I'm Exploring"}),"\n",(0,r.jsx)(n.p,{children:"This is where things get exciting."}),"\n",(0,r.jsx)(n.h3,{id:"multi-modal-rag",children:"Multi-Modal RAG"}),"\n",(0,r.jsx)(n.p,{children:"Current limitation: LightRAG processes text only. But most technical documentation includes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Architecture diagrams"}),"\n",(0,r.jsx)(n.li,{children:"Database schemas"}),"\n",(0,r.jsx)(n.li,{children:"Screenshots of UIs"}),"\n",(0,r.jsx)(n.li,{children:"Performance graphs"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"I'm experimenting with integrating vision models (like LLaVA) to extract information from images before feeding to LightRAG. Early tests show promise for understanding architecture diagrams."}),"\n",(0,r.jsx)(n.h3,{id:"advanced-query-capabilities",children:"Advanced Query Capabilities"}),"\n",(0,r.jsx)(n.p,{children:"Right now, queries are natural language with keyword extraction. I want:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Natural language to Cypher"}),' - "Show me all services that depend on the authentication API" \u2192 translated to Neo4j Cypher query']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Temporal queries"}),' - "How has our deployment strategy evolved over the past year?"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-hop reasoning visualization"})," - See the graph traversal that produced an answer"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"continuous-learning-pipeline",children:"Continuous Learning Pipeline"}),"\n",(0,r.jsx)(n.p,{children:"LightRAG doesn't learn from user feedback yet. I'm building:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Thumbs up/down on answers to identify weak areas"}),"\n",(0,r.jsx)(n.li,{children:"User corrections of entity relationships"}),"\n",(0,r.jsx)(n.li,{children:"Automated fine-tuning pipeline for Phi-4 on corrected examples"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The goal: knowledge base quality improves over time based on actual usage."}),"\n",(0,r.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsx)(n.p,{children:"After six months of building, deploying, and refining this system, here's what matters:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Local SLMs are production-ready"})," - Phi-4 handles complex RAG tasks that I previously thought required GPT-4. The performance gap is closing fast."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Graph RAG outperforms naive RAG"})," - Multi-hop reasoning and entity relationships produce substantially better answers for complex questions. The difference is dramatic."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cost savings are real"})," - 30-60% reduction in operating costs compared to API-based approaches. More importantly, costs are predictable and don't scale with usage."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Control matters more than convenience"})," - For enterprises with sensitive data, the ability to keep everything in-house is worth the operational complexity."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Setup time is the main barrier"})," - Initial deployment takes 2-4 weeks. But once running, maintenance is minimal (2-4 hours/month)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"get-started-today",children:"Get Started Today"}),"\n",(0,r.jsx)(n.p,{children:"If you're convinced this approach makes sense for your organization, here's your next steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Start with development deployment"})," - Prove the concept on a subset of your documents (~1,000) before committing to production infrastructure"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Measure baseline performance"})," - Index documents and run representative queries. Benchmark against your current solution (if any)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Calculate your economics"})," - Use your actual document count and query volume to build a cost model. Factor in setup time and maintenance."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Plan your production architecture"})," - Decide on AWS vs on-premise based on your compliance requirements and existing infrastructure."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Gradually migrate"})," - Don't try to index everything at once. Start with one domain (e.g., engineering docs) and expand iteratively."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"Have you experimented with local LLMs for RAG? I'd love to hear about your experiences\u2014what worked, what didn't, and what surprised you."}),"\n",(0,r.jsx)(n.p,{children:"If you found this helpful:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2b50 Star the ",(0,r.jsx)(n.a,{href:"https://github.com/HKUDS/LightRAG",children:"LightRAG repository"})]}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udce2 Share this with your engineering team"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcac Drop a comment with your implementation challenges"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"I'm planning follow-up posts on:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Fine-tuning Phi-4 for domain-specific entity extraction"}),"\n",(0,r.jsx)(n.li,{children:"Optimizing Neo4j query performance for large knowledge graphs"}),"\n",(0,r.jsx)(n.li,{children:"Building a Claude Code MCP integration for querying from your editor"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Which would you find most valuable? Let me know."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Jon Roosevelt is an AI architect specializing in healthcare and enterprise systems. He's helped organizations build production ML systems handling millions of documents and has a particular interest in making powerful AI accessible through self-hosted infrastructure."})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);